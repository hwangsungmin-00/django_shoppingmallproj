<!DOCTYPE html>
{% load static %}
<html lang="ko">
    <head>
    <title>{% block head_title %}Shopping{% endblock %}</title>
    <link href = "{% static 'shopping/bootstrap/bootstrap.min.css' %}" rel = "stylesheet" type = "text/css" media="screen">
        <link href = "{% static 'shopping/css/shopping-post.css' %}" rel = "stylesheet" type = "text/css" media="screen">
        <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <script src="https://kit.fontawesome.com/0eacb1d254.js" crossorigin="anonymous"></script>

    <!-- Bootstrap icons-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" type = "text/css" media="screen" />

    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="{% static 'shopping/bootstrap/styles.css' %}" rel = "stylesheet" rel = "stylesheet" type = "text/css" media="screen" />
</head>

<body>
{% include 'shopping/navbar.html' %}
        <!-- Header-->
        <header class="bg-dark py-5">
            <div class="container px-4 px-lg-5 my-5">
                <div class="text-center text-white">
                    <h1 class="display-4 fw-bolder" style="padding-top :50px">당신은 스스로에게 만족스러운 향수를 사용하고 있나요?</h1>
                    <p class="lead fw-normal text-white-50 mb-0">나만의 향으로 당신의 하루를 바꿔보세요</p>
                </div>
            </div>
        </header>
        <div class="container my-3">
            <div class="row">
                <div class="col-md-8 col-lg-9" id="main-area">
                    {% block main_area %}
                    {% endblock %}
                    </div>
                <div class="col-md-4 col-lg-3">
                    <!-- Search widget-->
           <div class="card mb-4">
            <div class="card-header"><i class="fas fa-search"></i>&nbsp;&nbsp;Search</div>
            <div class="card-body">
                <div class="input-group">
                    <input class="form-control" type="text" id="search-input" placeholder="Enter search term..." aria-label="Enter search term..." aria-describedby="button-search" />
                    <button class="btn btn-primary" id="button-search" type="button" onclick="searchPost()">Go!</button>
                </div>
            </div>
        </div>
        <!-- Categories widget-->
        <div class="card mb-4" id="categories-card">
            <div class="card-header">Categories</div>
            <div class="card-body">
                <div class="row">
                        <ul class="list-unstyled mb-0">
                            {% for c in categories %}
                            <li><a href="http://127.0.0.1:49236/shopping/category/{{c.slug}}">{{c}} ({{c.post_set.count}})</a></li>
                            {% endfor %}
                            <li><a href="http://127.0.0.1:49236/shopping/category/no_category">미분류 ({{post_set.count}})</a></li>

                        </ul>
                </div>
            </div>
        </div>
                    <div class="card mb-4">
            <div class="card-header">Manufacture</div>
            <div class="card-body">
                <div class="row">
                        <ul class="list-unstyled mb-0">
                            {% for c in manufactures %}
                            <li><a href="http://127.0.0.1:49236/shopping/manufacture/{{c.slug}}">{{c}} ({{c.post_set.count}})</a></li>
                            {% endfor %}
                            <li><a href="http://127.0.0.1:49236/shopping/manufacture/no_manufacture">미분류 ({{post_set.count}})</a></li>

                        </ul>
                </div>
            </div>
        </div>
                </div>
                </div>

            </div>
        </div>
        </div>

<script>
    function searchPost(){
     let searchValue = document.getElementById('search-input').value.trim();
     if(searchValue.length > 1){
     location.href = "/shopping/search/" + searchValue + "/";
    }
    else{
    alert('검색어(' + searchValue+ ')가 너무 짧습니다.');
    }
    };
    document.getElementById('search-input').addEventListener('keyup',
                    function(event) {
                     if(event.key == 'Enter') { searchPost();}
                    }
                    )
</script>


{% include 'shopping/footer.html' %}


        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>

        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
         <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
         <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>

    </body>
</html>